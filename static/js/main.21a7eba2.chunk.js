(this["webpackJsonpsoc-net"]=this["webpackJsonpsoc-net"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Nav_nav__3U49a",list__item:"Nav_list__item__2uWh3",link:"Nav_link__1Sj3v",activeLink:"Nav_activeLink__1E6ui"}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(24),r=n(25),o=n(27),i=n(26),s=n(0),u=n.n(s),c=n(9),l=n(11),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(c.a,{to:"/Login"})}}]),s}(u.a.Component);return Object(l.b)(p)(t)}},127:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(43),r=n(5),o={dialogsData:[{id:1,name:"Andrey",img:"https://image.shutterstock.com/mosaic_250/2936380/640011838/stock-photo-handsome-unshaven-young-dark-skinned-male-laughing-out-loud-at-funny-meme-he-found-on-internet-640011838.jpg"},{id:2,name:"Kirill",img:"https://image.shutterstock.com/mosaic_250/2936380/613759379/stock-photo-happy-cheerful-young-woman-wearing-her-red-hair-in-bun-rejoicing-at-positive-news-or-birthday-gift-613759379.jpg"},{id:3,name:"Egor",img:"https://image.shutterstock.com/mosaic_250/2967241/623804987/stock-photo-headshot-portrait-of-happy-ginger-girl-with-freckles-smiling-looking-at-camera-white-background-623804987.jpg"},{id:4,name:"Sanya",img:"https://img.freepik.com/free-photo/cheerful-fair-haired-young-man-with-braces-grins-has-overjoyed-expression-clenches-teeth-being-glad-pass-all-exams-university-positive-feelings-emotions_176420-13688.jpg?size=626&ext=jpg"},{id:5,name:"Tohsik",img:"https://thumbs.dreamstime.com/b/confused-african-man-scratching-head-looking-camera-standing-over-gray-background-puzzled-husband-does-not-know-how-130983167.jpg"},{id:6,name:"Olega",img:"https://image.freepik.com/free-photo/puzzled-african-man-with-beard-shrugging-shoulders-looking-camera_1262-12426.jpg"}],messagesData:[{id:1,message:"Hi"},{id:2,message:"How are you doing?"},{id:3,message:"Yo"}]},i=function(e){return{type:"UPDATE-NEW-MESSAGE-TEXT",newMessageText:e}},s=function(e){return{type:"SEND-MESSAGE",newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-NEW-MESSAGE-TEXT":return Object(r.a)(Object(r.a)({},e),{},{newMessageText:t.newMessageText});case"SEND-MESSAGE":var n=t.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:4,message:n}])});default:return e}}},132:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__2GxUs"}},133:function(e,t){e.exports="data:image/png;base64,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"},134:function(e,t,n){e.exports={lds_roller:"Preloader_lds_roller__1fEjU"}},163:function(e,t,n){e.exports=n(290)},168:function(e,t,n){},169:function(e,t,n){},192:function(e,t,n){e.exports=n.p+"static/media/preloader.1a7925ff.gif"},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var a=n(55),r=n(0),o=n.n(r),i=n(51),s=n.n(i),u=(n(35),n(87)),c=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,r=e.children,i=n&&a;return o.a.createElement("div",{className:i&&s.a.errorBorder},r,i&&o.a.createElement("span",{className:s.a.errorMessage},a))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(c,e,o.a.createElement("textarea",Object.assign({},t,n)))},p=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(c,e,o.a.createElement("input",Object.assign({},t,n)))},m=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(u.a,Object.assign({placeholder:e,component:t,name:n,validate:a},r)),i)}},290:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(64),i=n.n(o),s=(n(168),n(24)),u=n(25),c=n(27),l=n(26),p=(n(169),n(12)),m=n.n(p),f=n(16),g=function(){return r.a.createElement("nav",{className:m.a.nav},r.a.createElement("ul",null,r.a.createElement("li",{className:m.a.list__item},r.a.createElement(f.b,{className:m.a.link,to:"/Profile",activeClassName:m.a.activeLink},"Profile")),r.a.createElement("li",{className:m.a.list__item},r.a.createElement(f.b,{className:m.a.link,to:"/Dialogs",activeClassName:m.a.activeLink},"Messages")),r.a.createElement("li",{className:m.a.list__item},r.a.createElement(f.b,{className:m.a.link,to:"/Users",activeClassName:m.a.activeLink},"Users")),r.a.createElement("li",{className:m.a.list__item},r.a.createElement("a",{className:m.a.link,href:"#"},"News")),r.a.createElement("li",{className:m.a.list__item},r.a.createElement("a",{className:m.a.link,href:"#"},"Music")),r.a.createElement("li",{className:m.a.list__item},r.a.createElement("a",{className:m.a.link,href:"#"},"Settings"))))},d=n(9),h=n(11),E=n(10),b=n.n(E),A=n(17),v=n(43),O=n(5),P=n(131).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"fa4e8830-2447-4120-b9db-3bcc67a6fe5f"}}),j={requestUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return P.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return P.delete("follow/".concat(e))},follow:function(e){return P.post("follow/".concat(e))},getProfile:function(e){return console.warn("use profileAPI object"),w.getProfile(e)}},w={getProfile:function(e){return P.get("profile/".concat(e))},getStatus:function(e){return P.get("profile/status/".concat(e))},updateStatus:function(e){return P.put("profile/status",{status:e})}},S=function(){return P.get("auth/me")},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P.post("auth/login",{email:e,password:t,rememberMe:n})},_=function(){return P.delete("auth/login")},I=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(O.a)(Object(O.a)({},e),a):e}))},k={usersArr:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],portionSize:10,portionPage:1},C=function(e){return{type:"FOLLOW",userId:e}},N=function(e){return{type:"UNFOLLOW",userId:e}},x=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},T=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},z=function(e,t){return{type:"TOGGLE_FOLLOWING_PROGRESS",isFetching:e,userId:t}},U=function(){var e=Object(A.a)(b.a.mark((function e(t,n,a,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(z(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{usersArr:I(e.usersArr,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(O.a)(Object(O.a)({},e),{},{usersArr:I(e.usersArr,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(O.a)(Object(O.a)({},e),{},{usersArr:t.usersArr});case"SET_CURRENT_PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(v.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!=t.userId}))]});case"SET_PORTION_PAGE":return Object(O.a)(Object(O.a)({},e),{},{portionPage:t.portionPage});default:return e}},G=n(55),M=n(54),D=n(91),q=n.n(D),F=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.currentPage,i=e.onPageChanged,s=e.portionSize,u=Math.ceil(t/n),c=[],l=1;l<=u;l++)c.push(l);var p=Math.ceil(u/s),m=Object(a.useState)(1),f=Object(M.a)(m,2),g=f[0],d=f[1],h=(g-1)*s+1,E=g*s;return r.a.createElement("div",{className:q.a.paginator},r.a.createElement("button",{disabled:g<2,onClick:function(){d(g-1)}},"<"),c.filter((function(e){return e>=h&&e<=E})).map((function(e){return r.a.createElement("span",{className:o===e&&q.a.selectedPage,onClick:function(t){i(e)}},e)})),r.a.createElement("button",{disabled:p<g,onClick:function(){d(g+1)}},">"))},W=n(132),K=n.n(W),R=n(133),X=n.n(R),Z=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,o=e.follow;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(f.b,{to:"/Profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:X.a,className:K.a.userPhoto,alt:""}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)}},"Follow"))),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"user.location.country"),r.a.createElement("div",null,"user.location.city"))))},B=function(e){var t=e.currentPage,n=e.onPageChanged,a=e.totalItemsCount,o=e.pageSize,i=e.portionSize,s=Object(G.a)(e,["currentPage","onPageChanged","totalItemsCount","pageSize","portionSize"]);return r.a.createElement("div",null,r.a.createElement(F,{currentPage:t,onPageChanged:n,totalItemsCount:a,pageSize:o,portionSize:i}),s.usersArr.map((function(e){return r.a.createElement(Z,{user:e,followingInProgress:s.followingInProgress,key:e.id,unfollow:s.unfollow,follow:s.follow})})))},H=(n(192),n(134)),V=n.n(H),J=function(e){return r.a.createElement("div",{className:V.a.lds_roller},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},Q=n(135),Y=Object(Q.a)((function(e){return e.usersPage.usersArr}),(function(e){return e.filter((function(e){return!0}))})),$=function(e){return e.usersPage.pageSize},ee=function(e){return e.usersPage.totalUsersCount},te=function(e){return e.usersPage.currentPage},ne=function(e){return e.usersPage.isFetching},ae=function(e){return e.usersPage.followingInProgress},re=function(e){return e.usersPage.portionSize},oe=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(J,null):null,r.a.createElement(B,{totalItemsCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,usersArr:this.props.usersArr,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize}))}}]),n}(r.a.Component),ie=Object(h.b)((function(e){return{usersArr:Y(e),pageSize:$(e),totalUsersCount:ee(e),currentPage:te(e),isFetching:ne(e),followingInProgress:ae(e),portionSize:re(e)}}),{follow:function(e){return function(t){U(t,e,j.follow.bind(j),C)}},unfollow:function(e){return function(t){U(t,e,j.unfollow.bind(j),N)}},setCurrentPage:x,toggleFollowingProgress:z,requestUsers:function(e,t){return function(){var n=Object(A.a)(b.a.mark((function n(a){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(T(!0)),a(x(e)),n.next=4,j.requestUsers(e,t);case 4:r=n.sent,a(T(!1)),a({type:"SET_USERS",usersArr:r.items}),a({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setPortionPage:function(e){return{type:"SET_PORTION_PAGE",portionPage:e}}})(oe),se=n(67),ue=n.n(se),ce=function(e){var t=Object(a.useState)(!1),n=Object(M.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)(e.status),u=Object(M.a)(s,2),c=u[0],l=u[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,r.a.createElement("div",null,!o&&r.a.createElement("span",{onClick:function(){i(!0)}},c||"-----")),r.a.createElement("div",null,o&&r.a.createElement("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(c)},value:c})))},le=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:ue.a.description},r.a.createElement("img",{src:e.profile.photos.large,alt:""}),r.a.createElement(ce,{status:e.status,updateStatus:e.updateStatus}),r.a.createElement("div",{className:ue.a.about},r.a.createElement("h3",null,"ABOUT ME"),r.a.createElement("span",null,e.profile.fullName),r.a.createElement("span",null,"About me: ",e.profile.aboutMe),r.a.createElement("span",null,e.profile.contacts.vk),e.profile.lookingForAJob?r.a.createElement("span",null,"Looking for a job"):null))):r.a.createElement(J,null)},pe={postsArr:[{likeCounter:10,message:"Hi, how are you?"},{likeCounter:5,message:"It's my first post"}],profile:null,status:""},me=function(e){return{type:"SET_STATUS",status:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={likeCounter:0,message:t.newPostBody};return Object(O.a)(Object(O.a)({},e),{},{postsArr:[].concat(Object(v.a)(e.postsArr),[n])});case"SET_USER_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},ge=n(92),de=n.n(ge),he=n(93),Ee=n.n(he),be=function(e){return r.a.createElement("div",{className:Ee.a.post},r.a.createElement("img",{className:Ee.a.profile__photo,src:"https://vignette.wikia.nocookie.net/discord-wikia/images/5/5e/Default.png/revision/latest/scale-to-width-down/340?cb=20191215094354&path-prefix=ru",alt:""}),e.message)},Ae=n(87),ve=n(128),Oe=n(35),Pe=n(28),je=Object(Oe.a)(10),we=r.a.memo((function(e){var t=e.postsArr.map((function(e){return r.a.createElement(be,{message:e.message,key:e.id,likeCouner:e.likeCounter})}));return r.a.createElement("div",{className:de.a.posts},r.a.createElement("h3",null,"My posts"),r.a.createElement(Se,{onSubmit:function(t){e.addPost(t.newPostBody)}}),r.a.createElement("div",{className:de.a.posts__items},t))})),Se=Object(ve.a)({form:"profileAddPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(Ae.a,{component:Pe.b,name:"newPostBody",validate:[Oe.b,je]}),r.a.createElement("button",null,"Add post"))})),ye=we,_e=Object(h.b)((function(e){return{postsArr:e.profilePage.postsArr,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostBody:e}}(t))}}}))(ye),Ie=function(e){return r.a.createElement("div",null,r.a.createElement(le,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(_e,null))},ke=n(126),Ce=n(8),Ne=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(Ie,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),xe=Object(Ce.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getProfile:function(e){return function(){var t=Object(A.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getProfile(e);case 2:a=t.sent,n({type:"SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(A.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.getStatus(e);case 2:a=t.sent,n(me(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(A.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(me(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f,ke.a)(Ne),Te=n(70),ze=n.n(Te),Ue=function(e){return r.a.createElement("header",{className:ze.a.header},r.a.createElement("img",{className:ze.a.logo,src:"https://upload.wikimedia.org/wikipedia/ru/c/c0/Scuderia_Ferrari_Logo.svg",alt:""}),r.a.createElement("div",{className:ze.a.login},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log out")," "):r.a.createElement(f.b,{to:"/login"},"Login")))},Le=n(38),Ge={userId:null,login:null,email:null,isAuth:!1},Me=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},De=function(){return function(){var e=Object(A.a)(b.a.mark((function e(t){var n,a,r,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,i=a.email,t(Me(r,o,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe=function(){return function(){var e=Object(A.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:0===e.sent.data.resultCode&&t(Me(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(O.a)(Object(O.a)({},e),t.payload);default:return e}},We=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(Ue,this.props)}}]),n}(r.a.Component),Ke=Object(h.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:qe})(We),Re=n(51),Xe=n.n(Re),Ze=Object(ve.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},Object(Pe.c)("email",Pe.a,"email",[Oe.b]),Object(Pe.c)("password",Pe.a,"password",[Oe.b],{type:"password"}),Object(Pe.c)(null,Pe.a,"rememberMe",[],{type:"checkbox"},"remember me"),n&&r.a.createElement("div",{className:Xe.a.formSummaryError},n),r.a.createElement("div",null,r.a.createElement("button",null,"Login"))))})),Be=Object(h.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(A.a)(b.a.mark((function a(r){var o,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(De()):(i=o.data.messages.length>0?o.data.messages[0]:"Some error",r(Object(Le.a)("login",{_error:i})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},logout:qe})((function(e){return e.isAuth?r.a.createElement(d.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(Ze,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),He={initialized:!1},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{initialized:!0});default:return e}},Je=n(127),Qe=n(137),Ye=n(129),$e=Object(Ce.c)({profilePage:fe,dialogsPage:Je.a,usersPage:L,auth:Fe,form:Ye.a,app:Ve}),et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ce.d,tt=Object(Ce.e)($e,et(Object(Ce.a)(Qe.a))),nt=r.a.lazy((function(){return n.e(3).then(n.bind(null,292))})),at=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Ke,null),r.a.createElement(g,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(d.b,{path:"/Dialogs",render:(e=nt,function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))})}),r.a.createElement(d.b,{path:"/Profile/:userId?",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(d.b,{path:"/Users",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(d.b,{path:"/Login",render:function(){return r.a.createElement(Be,null)}}))):r.a.createElement(J,null);var e}}]),n}(r.a.Component),rt=Object(Ce.d)(d.f,Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(A.a)(b.a.mark((function e(t){var n,a,r,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,i=a.email,t(Me(r,o,i,!0)),t({type:"INITIALIZED_SUCCESS"}),t(De));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(at),ot=function(e){return r.a.createElement(f.a,null,r.a.createElement(h.a,{store:tt},r.a.createElement(rt,null)))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ot,null)),document.getElementById("root"))},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n(0);var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},51:function(e,t,n){e.exports={errorBorder:"FormControls_errorBorder__3hsKt",errorMessage:"FormControls_errorMessage__17wW9",formSummaryError:"FormControls_formSummaryError__19IUt"}},67:function(e,t,n){e.exports={content__img:"ProfileInfo_content__img__3QrJi",description:"ProfileInfo_description__zy_XR",about:"ProfileInfo_about__2jhcD"}},70:function(e,t,n){e.exports={header:"Header_header__3_tYo",logo:"Header_logo__1riaF",login:"Header_login__3CBxc"}},91:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__rEQwq",paginator:"Paginator_paginator__Vs5Es"}},92:function(e,t,n){e.exports={posts:"MyPosts_posts__Pcz1m",posts__items:"MyPosts_posts__items__2aYVo"}},93:function(e,t,n){e.exports={profile__photo:"Post_profile__photo__2kgRI",post:"Post_post__28Vxe"}}},[[163,1,2]]]);
//# sourceMappingURL=main.21a7eba2.chunk.js.map